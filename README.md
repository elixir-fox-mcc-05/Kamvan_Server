# Kamvan_Server

## Authors

- **Yudha Arief Wijaya** - _Dev_ - [Github](https://github.com/yudhaaw96)
- Priambodo Kurniawan - Buddy Helper

## Client URL :

https://client-kamvan-yudhaaw96.firebaseapp.com/ (status : active)

## Server URL :

https://server-kamvan-yudhaaw96.herokuapp.com/ (status : active)

## SIGNUP USER

Create a new User

- ### URL

  /signup

- ### Method

  POST

- ### URL Params

  none

- ### Header Params

  none

- ### Data Params

  name = [string],<br>
  email = [string],<br>
  password = [string]

- ### Success Response

  - #### Code: 201
  - #### Content:

  ```
    {
      "CreatedUser": {
        "id": 29,
        "name": "Yudha",
        "email": "Yudha@email.com",
        "password": "$2a$10$xGPZRvuCMB9kAoZHeQDmmebTbGOWKe5pMD9AS/KhyBRpEQsAwBWx.",
        "updatedAt": "2020-05-08T13:40:21.568Z",
        "createdAt": "2020-05-08T13:40:21.568Z",
        "organization": "Hacktiv8"
      }
    }
  ```

- ### Error Response:

  - #### Code: 400
    Bad Request
  - #### Content:

  ```
    {
      "code": 400,
      "type": "BAD REQUEST",
      "message": [
        {
          "message": "Please insert your name"
        },
        {
          "message": "Character minimum is 2, and maximum 20"
        },
        {
          "message": "Please insert your email"
        },
        {
          "message": "Please insert correct email format"
        },
        {
          "message": "Please insert your password"
        },
        {
          "message": "Minimum password length is 3, maxiumum 15"
        }
      ]
    }
  ```

## SIGNIN USER

Login as a User and generate Access Token that generated by jsonwebtoken

- ### URL

  /signin

- ### Method

  POST

- ### URL Params

  none

- ### Header Params

  none

- ### Data Params

  email = [string],<br>
  password = [string]

- ### Success Response

  - #### Code: 200
  - #### Content:

  ```
    {
      "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MjksImVtYWlsIjoiWXVkaGFAZW1haWwuY29tIiwib3JnYW5pemF0aW9uIjoiSGFja3RpdjgiLCJpYXQiOjE1ODg5NDU2MzR9.YmLFoNce6xPwVt1xzboW4RUolcZhJcDDc27IYgUYGig"
    }
  ```

- ### Error Response:

  - #### Code: 400
    Bad Request
  - #### Content:

  ```
    {
      "code": 400,
      "type": "BAD REQUEST",
      "errors": "Opps!, invalid email / password"
    }
  ```

## CREATE TASK

Create a new Task

- ### URL

  /tasks

- ### Method

  POST

- ### URL Params

  none

- ### Header Params

  - #### Headers:
    access_token : [ Your Generated JSONWebToken (JWT) ]

- ### Data Params

  - #### Body (form url encoded):
    title = [string],<br>
    description = [string]

- ### Success Response

  - #### Code: 201

  - #### Content:

  ```
    {
      "CreatedTask": {
        "id": 31,
        "title": "task baru",
        "description": "tes baru nih",
        "UserId": 1,
        "updatedAt": "2020-05-08T13:49:22.086Z",
        "createdAt": "2020-05-08T13:49:22.086Z",
        "category": "back-log"
      }
    }
  ```

- ### Error Response:

  - #### Code: 400
    Bad Request
  - #### Content:

  ```
    {
      "code": 400,
      "type": "BAD REQUEST",
      "message": [
        {
          "message": "Please insert title"
        },
        {
          "message": "Minimum title length is 2, maxiumum 10"
        },
        {
          "message": "Please insert description"
        },
        {
          "message": "Minimum description length is 2, maxiumum 20"
        }
      ]
    }
  ```

  - #### Code: 401
    Unauthorized
  - #### Content:

  ```
    {
      "code": 401,
      "type": "UNAUTHORIZED",
      "message": "Please signin first!"
    }
  ```

# READ TASK

Show All Tasks

- ### URL

  /tasks

- ### Method

  GET

- ### URL Params

  none

- ### Header Params

  - #### Headers:
    token : [ Your Generated JSONWebToken (JWT) ]

- ### Data Params

  none

- ### Success Response

  - #### Code: 200

  - #### Content:

  ```
    {
      "Tasks": [
        {
          "id": 28,
          "title": "ads123123",
          "description": "asdds123123",
          "category": "to-do",
          "UserId": 15,
          "createdAt": "2020-05-08T11:41:33.844Z",
          "updatedAt": "2020-05-08T12:41:02.517Z",
          "User": {
            "id": 15,
            "name": "Yudha",
            "email": "yaw.networks@gmail.com",
            "organization": "Hacktiv8"
          }
        },
        {
          "id": 30,
          "title": "tes",
          "description": "tes",
          "category": "back-log",
          "UserId": 1,
          "createdAt": "2020-05-08T13:49:08.993Z",
          "updatedAt": "2020-05-08T13:49:08.993Z",
          "User": {
            "id": 1,
            "name": "tes1",
            "email": "tes1@tes.tes",
            "organization": "Hacktiv8"
          }
        },
        {
          "id": 31,
          "title": "task baru",
          "description": "tes baru nih",
          "category": "back-log",
          "UserId": 1,
          "createdAt": "2020-05-08T13:49:22.086Z",
          "updatedAt": "2020-05-08T13:49:22.086Z",
          "User": {
            "id": 1,
            "name": "tes1",
            "email": "tes1@tes.tes",
            "organization": "Hacktiv8"
          }
        },
        {
          "id": 32,
          "title": "asdasd",
          "description": "asdasd",
          "category": "back-log",
          "UserId": 29,
          "createdAt": "2020-05-08T13:53:28.455Z",
          "updatedAt": "2020-05-08T13:53:28.455Z",
          "User": {
            "id": 29,
            "name": "Yudha",
            "email": "Yudha@email.com",
            "organization": "Hacktiv8"
          }
        }
      ]
    }
  ```

* ### Error Response:

  - #### Code: 401
    Unauthorized
  - #### Content:

  ```
    {
      "code": 401,
      "type": "UNAUTHORIZED",
      "message": "Please signin first!"
    }
  ```

## UPDATE TASK

Update a Task

- ### URL

  /tasks/:id

- ### Method

  PUT

- ### URL Params

  ### Required:

  id = [integer]

- ### Header Params

  - #### Headers:
    token : [ Your Generated JSONWebToken (JWT) ]

- ### Data Params

  - #### Body (form url encoded):
    title = [string],<br>
    description = [string],<br>
    category = [string],

- ### Success Response

  - #### Code: 200
  - #### Content:

  ```
    {
      "UpdatedTask": {
        "id": 32,
        "title": "tes EDIT",
        "description": "tes EDIT",
        "category": "back-log",
        "createdAt": "2020-05-08T13:53:28.455Z",
        "updatedAt": "2020-05-08T13:57:25.226Z",
        "UserId": 29
      }
    }
  ```

- ### Error Response:

  - #### Code: 401
    Unauthorized
  - #### Content:

  ```
    {
      "code": 401,
      "type": "UNAUTHORIZED",
      "errors": "Sorry, not authorized, please use correct account"
    }
  ```

  - #### Code: 404
    Not Found
  - #### Content:

  ```
    {
      "code": 404,
      "type": "NOT FOUND",
      "errors": "Sorry, not found"
    }
  ```

## DELETE TASK

Delete a Task

- ### URL

  /tasks/:id

- ### Method

  DELETE

- ### URL Params

  ### Required:

  id = [integer]

- ### Header Params

  - #### Headers:
    token : [ Your Generated JSONWebToken (JWT) ]

- ### Data Params

  none

- ### Success Response

  - #### Code: 200
  - #### Content:

  ```
    {
      "DeletedTask": {
        "id": 32,
        "title": "tes EDIT",
        "description": "tes EDIT",
        "category": "back-log",
        "UserId": 29,
        "createdAt": "2020-05-08T13:53:28.455Z",
        "updatedAt": "2020-05-08T13:57:25.226Z"
      }
    }
  ```

- ### Error Response:

  - #### Code: 401
    Unauthorized
  - #### Content:

  ```
    {
      "code": 401,
      "type": "UNAUTHORIZED",
      "errors": "Sorry, not authorized, please use correct account"
    }
  ```

  - #### Code: 404
    Not Found
  - #### Content:

  ```
    {
      "code": 404,
      "type": "NOT FOUND",
      "errors": "Sorry, not found"
    }
  ```
